function verifyRequired11101(){return icpForm11101.fields_email.value==""?(icpForm11101.fields_email.focus(),alert("The Email field is required."),!1):!0}function ajaxStart(){$body.addClass("loading")}function ajaxStop(){$body.removeClass("loading")}function hidePopover(){$(".btn.add-to-myprojects").popover("destroy"),$("#addProject").popover("destroy")}function popoverPlacement(n,t,i){return function(n,r){var f,o,s,h,c,v=$(r),l=$(document).scrollTop(),a=$(document).scrollLeft(),y=a+$(window).width(),p=l+$(window).height(),u=$.extend({},v.offset(),{width:r.offsetWidth,height:r.offsetHeight}),e=function(n){return l<n.top&&a<n.left&&y>n.left+t&&p>n.top+i},w=function(){return o===!1?!1:(o=e({top:u.top-i,left:u.left+u.width/2-t/2}),o?"top":!1)},b=function(){return s===!1?!1:(s=e({top:u.top+u.height,left:u.left+u.width/2-t/2}),s?"bottom":!1)},k=function(){return h===!1?!1:(h=e({top:u.top+u.height/2-i/2,left:u.left-t}),h?"left":!1)},d=function(){return c===!1?!1:(c=e({top:u.top+u.height/2-i/2,left:u.left+u.width}),c?"right":!1)},g=function(){var t=$(window).width(),i=$(window).height(),r=$(window).scrollTop(),f=$(window).scrollLeft(),n=[];return n.push({name:"topleft",val:u.top-r+(u.left-f)}),n.push({name:"topright",val:u.top-r+(t-u.left)}),n.push({name:"bottomleft",val:i-u.top+(u.left-f)}),n.push({name:"bottomright",val:t-u.left+(i-u.top)}),n.sort(function(n,t){return n.val-t.val}),n[0].name};return(f=w())?f:(f=b())?f:(f=k())?f:(f=d())?f:g()}}var icpForm11101=document.getElementById("icpsignup11101"),delay;document.location.protocol==="https:"&&(icpForm11101.action="https://app.icontact.com/icp/signup.php"),$body=$("body"),$(function(){$(document).on({ajaxStart:function(){$body.addClass("loading")},ajaxStop:function(){$body.removeClass("loading")},ajaxError:function(n,t){var i;switch(t.status){case 403:try{i=JSON.parse(t.responseText),window.location.href=i.LogOnUrl+"?ReturnUrl="+i.ReturnUrl}catch(n){window.location.reload()}}}});$(".selectpicker").selectpicker();$("#subnav li.active a").on("click",function(){if($subnav=$("#subnav"),$(window).width()<768)if($subnav.hasClass("hover"))$subnav.removeClass("hover");else return $subnav.addClass("hover"),!1});$("#LoginModal").on("shown",function(){$("#Login_UserName").focus()});$("body").on("click",function(n){$('[data-toggle="popover"]').each(function(){$(this).is(n.target)||$(this).has(n.target).length!==0||$(".popover").has(n.target).length!==0||$(this).popover("hide")}),$('[data-click="popover"]').each(function(){$(this).is(n.target)||$(this).has(n.target).length!==0||$(".popover").has(n.target).length!==0||$(this).popover("destroy")})});$("#open-password-reset-form").click(function(){$("#open-password-reset-form").hide(),$("#open-username-request-form").hide(),$(".login-control").slideUp(500),$("#back-to-login-form-button").slideDown(500),$(".password-reset-control").slideDown(500),$(".request-username-control").slideUp(500)}),$("#reset-form").submit(function(n){var t,i,r;(n.preventDefault(),t=$("#reset-form"),t.validate(),t.valid())&&(i={Email:$("#reset-email").val()},r={type:"POST",url:t.attr("action"),data:i,statusCode:{200:function(){$(".password-reset-control").slideUp(500),$("#back-to-login-form-button").slideUp(500),$("#request-password-reset-success-message").slideDown(),$(".login-control").slideDown(500),window.setTimeout(function(){$("#open-password-reset-form").slideDown(500),$("#open-username-request-form").slideDown(500),$("#request-password-reset-success-message").slideUp(500)},5e3)},400:function(){$(".password-reset-control").slideUp(500),$("#back-to-login-form-button").slideUp(500),$("#request-password-reset-no-email-message").slideDown(),$(".login-control").slideDown(500),window.setTimeout(function(){$("#open-password-reset-form").slideDown(500),$("#open-username-request-form").slideDown(500),$("#request-password-reset-no-email-message").slideUp(500)},5e3)},500:function(){$(".password-reset-control").slideUp(500),$("#back-to-login-form-button").slideUp(500),$("#request-password-reset-error-message").slideDown(),$(".login-control").slideDown(500),window.setTimeout(function(){$("#open-password-reset-form").slideDown(500),$("#open-username-request-form").slideDown(500),$("#request-password-reset-error-message").slideUp(500)},5e3)}}},$.ajax(r))}),$("#open-username-request-form").click(function(){$("#open-password-reset-form").hide(),$("#open-username-request-form").hide(),$(".login-control").slideUp(500),$(".request-username-control").slideDown(500),$("#back-to-login-form-button").slideDown(500),$(".password-reset-control").slideUp(500)}),$("#username-form").submit(function(n){var t,i,r;(n.preventDefault(),t=$("#username-form"),t.validate(),t.valid())&&(i={Email:$("#user-email").val()},r={type:"POST",url:t.attr("action"),data:i,statusCode:{200:function(){$(".request-username-control").slideUp(500),$("#back-to-login-form-button").slideUp(500),$("#request-username-success-message").slideDown(),$(".login-control").slideDown(500),window.setTimeout(function(){$("#open-username-request-form").slideDown(500),$("#open-password-reset-form").slideDown(500),$("#request-username-success-message").slideUp(500)},5e3)},400:function(){$(".request-username-control").slideUp(500),$("#back-to-login-form-button").slideUp(500),$("#request-username-no-email-message").slideDown(),$(".login-control").slideDown(500),window.setTimeout(function(){$("#open-username-request-form").slideDown(500),$("#open-password-reset-form").slideDown(500),$("#request-username-no-email-message").slideUp(500)},5e3)},500:function(){$(".request-username-control").slideUp(500),$("#back-to-login-form-button").slideUp(500),$("#request-username-error-message").slideDown(),$(".login-control").slideDown(500),window.setTimeout(function(){$("#open-username-request-form").slideDown(500),$("#open-password-reset-form").slideDown(500),$("#request-username-error-message").slideUp(500)},5e3)}}},$.ajax(r))}),$("#back-to-login-form-button").click(function(){$(".password-reset-control").slideUp(500),$(".request-username-control").slideUp(500),$("#back-to-login-form-button").slideUp(500),$(".login-control").slideDown(500),$("#open-password-reset-form").show(),$("#open-username-request-form").show()})}),delay=function(){var n=0;return function(t,i){clearTimeout(n),n=setTimeout(t,i)}}(),DesignLibrary=function(){function e(i){i&&(n=$.extend(i,n)),t()}function t(){h(),c(),v(),a(),y(),s(),l(),$(".selectpicker").selectpicker(),o()}function o(){$ww=$(window).width(),Modernizr.touch||$("#search-results-display li a.thumb").popover({placement:window.popoverPlacement("top",300,300),trigger:$ww<768?"manual":"hover",html:!0}),$("#search-results-display a.maintenance").popover({placement:"right",trigger:"hover"}),$("#design-library").unbind("click");$('#design-library a.btn.add-to-myprojects[data-click="popover"]').on("click",function(){var t=$(this).data("fid"),i=$(this);$.get(n.ProjectPopoverUrl,{fabricId:t},function(n){i.popover({html:!0,placement:"bottom",content:n}).popover("show")})})}function s(){$("#design-library #search-colors input[type=checkbox]").on("change",function(){$("#form0").submit()})}function h(){$("#search-term, #detail-search-term").typeahead({source:function(t,i){return $.getJSON(n.TypeAheadUrl,{query:t},function(n){return i(n)})},updater:function(n){return this.$element[0].value=n,this.$element[0].form.submit(),n}})}function c(){$("#design-library #grid-view, #list-view").on("touchstart click",function(t){var r,i;t.preventDefault(),$(this).hasClass("active")==!1&&(r=$(this).data("type"),$.get(n.SetDisplayTypeUrl,{type:r},function(){}),i=$("#search-results-display"),i.fadeOut(400,function(){$("#grid-view, #list-view").toggleClass("active"),i.toggleClass("grid list"),i.find("li").toggleClass("span2 span10"),i.fadeIn(400)}),$("#search-results").toggleClass("grid list"))});$("#design-library #search-sort").on("change",function(){$("#search-results").load(n.BaseUrl+"/Sort",{SortVal:$(this).val()},function(){t()})})}function l(){$("#design-library #adv-search-form .clear-filters-button").on("touchstart click",function(n){n.preventDefault(),$("form#adv-search-form").find("input[type=checkbox]:checked").removeAttr("checked"),$("form#adv-search-form").find("input[type=checkbox]").parent('label:contains("In-Line")').find("input").prop("disabled",!1).prop("checked","checked"),r()});$("#design-library #SearchFilterForm .clear-filters-button").on("touchstart click",function(n){n.preventDefault(),$("form#SearchFilterForm").find("input[type=checkbox]:checked").removeAttr("checked"),$("form#SearchFilterForm").find("input[type=checkbox]").parent('label:contains("In-Line")').find("input").prop("checked","checked"),u()})}function r(){var i=$("#adv-search-form"),r={type:"POST",url:n.UpdateAdvancedSearchFormUrl,data:i.serialize()};$.ajax(r).done(function(n){$("#adv-search").html(n),f=!1,t()})}function a(){$("#design-library #adv-search-btn").on("touchstart click",function(n){return n.preventDefault(),$("#search, #adv-search").toggleClass("shown start"),$("#adv-search-btn i").toggleClass("icon-up icon-down"),!1})}function v(){$("#design-library #adv-search-cancel").on("touchstart click",function(n){n.preventDefault();var t=$("#adv-search").hasClass("shown"),i=$("form#adv-search-form").hasClass("resetme");return $("#adv-search-btn i").addClass("icon-down"),$("#adv-search-btn i").removeClass("icon-up"),$("#search, #adv-search").toggleClass("shown start"),t&&($("form#adv-search-form").find("input[type=checkbox]:checked").removeAttr("checked"),$("form#adv-search-form").addClass("resetme")),i&&r(),!1});$("#design-library #adv-search-form input:checkbox, #foreign-search #adv-search-form input:checkbox").on("touchstart click",function(){r()});$("#design-library input:checkbox.radio, #foreign-search input:checkbox.radio").on("touchstart click",function(n){if(n.preventDefault(),$(this).is(":checked")){var t="input:checkbox[name='"+$(this).attr("name")+"']";$(t).prop("checked",!1),$(this).prop("checked",!0)}else $(this).prop("checked",!1)})}function u(){var i=$("#SearchFilterForm"),r={type:"POST",url:n.SearchFilterFormUrl,data:i.serialize()};$.ajax(r).done(function(n){$("#search-results").html(n),t()})}function i(t,i){i?$.get(n.OpenFilterUrl,{filterid:t},function(){}):$.get(n.CloseFilterUrl,{filterid:t},function(){})}function y(){$("#design-library #SearchFilterForm input:checkbox").on("touchstart click",function(n){n.preventDefault();var t=$(this).val(),r=this.checked;r?i(t,!0):$(this).parent().parent().find("input:checked").not(this).attr("checked",!1),u()});$("#design-library .collapse").on("show",function(){var n=$(this).data("fid");i(n,!0),$(this).parent().find("span.view-more").text("View Less")});$("#design-library .collapse").on("hide",function(){var n=$(this).data("fid");i(n,!1),$(this).parent().find("span.view-more").text("View More")});$("#design-library a.filter-caret").on("click",function(){$(this).parent().toggleClass("isOpen");var n=$(this).parent().hasClass("isOpen"),t=$(this).siblings("label").children("input").val();i(t,n)});if($(window).width()<768)$("#design-library #search-filters .title, #design-library #search-results .headerbuttons .filter-text").on("click",function(n){n.preventDefault(),$("#design-library.filters-open #SearchFilterForm").slideUp(250,function(){$("#design-library").toggleClass("filters-open filters-closed")}),$("#design-library.filters-closed #SearchFilterForm").slideDown(250,function(){$("#design-library").toggleClass("filters-open filters-closed")})});else $("#design-library #search-filters .title, #design-library #search-results .headerbuttons .filter-text").on("touchstart click",function(n){n.preventDefault(),$("#design-library").toggleClass("filters-open filters-closed")})}var n={BaseUrl:"/DesignLibrary",ResultsUrl:"/DesignLibrary/Results",SetDisplayTypeUrl:"/DesignLibrary/SetDisplayType",UpdateAdvancedSearchFormUrl:"/DesignLibrary/UpdateAdvancedSearchForm",RestAdvancedSearchFormUrl:"/DesignLibrary/ResetAdvancedSearchForm",SearchFilterFormUrl:"/DesignLibrary/FilterSearchResults",TypeAheadUrl:"/DesignLibrary/TypeAhead",OpenFilterUrl:"/DesignLibrary/OpenFilter",CloseFilterUrl:"/DesignLibrary/CloseFilter",ProjectPopoverUrl:"/MyProjects/ProjectPopover"},f=!0;return{Config:n,Init:e,ReInit:t,hidePopover:hidePopover}}(),$(".banner .close-button").click(function(){$(".banner").slideUp(500),$.cookie("HIDE_BANNER","HIDE_BANNER",{expires:45})})